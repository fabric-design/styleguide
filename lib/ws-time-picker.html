<!-- inject:global -->
<!-- endinject -->
<dom-module id="ws-time-picker">
    <template>
        <!-- inject:html -->
        <div class="refills-components time-wrapper asd">
  <input class="time-picker-input" readonly/>
  <span id="time-picker-icon"></span>
  <div class="time-picker">
    <div class="hourUp"></div> <div class="minuteUp"></div>
    <input class="hours" /> : <input class="minutes" />
    <div class="hourDown"></div> <div class="minuteDown"></div>
    <div class="line"></div>
    <span class="cancel">Cancel</span> <span class="ok">Ok</span>
  </div>
</div>
        <!-- endinject -->
        <style>
            /* inject:styles */
            :host ::content .time-wrapper {
  width: 150px;
  display: inline-block;
  position: relative;
  font-family: "acumin-pro", "Helvetica Neue", Helvetica, Arial, sans-serif; }
  :host ::content .time-wrapper > #time-picker-icon {
    right: 11px;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyOSAxMjkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMjkgMTI5Ij4KICA8Zz4KICAgIDxnPgogICAgICA8cGF0aCBkPSJNNjQuNSwxMjIuM2MzMiwwLDU3LjktMjYsNTcuOS01Ny45YzAtMzItMjYtNTcuOS01Ny45LTU3LjlTNi42LDMyLjQsNi42LDY0LjRDNi42LDk2LjMsMzIuNSwxMjIuMyw2NC41LDEyMi4zeiAgICAgTTY0LjUsMTQuNmMyNy41LDAsNDkuOCwyMi4zLDQ5LjgsNDkuOGMwLDI3LjUtMjIuMyw0OS44LTQ5LjgsNDkuOFMxNC43LDkxLjgsMTQuNyw2NC40QzE0LjcsMzYuOSwzNywxNC42LDY0LjUsMTQuNnoiLz4KICAgICAgPHBhdGggZD0ibTYxLjgsNzEuMmgxOS4zYzIuMywwIDQuMS0xLjggNC4xLTQuMSAwLTIuMy0xLjgtNC4xLTQuMS00LjFoLTE1LjJ2LTIzLjhjMC0yLjMtMS44LTQuMS00LjEtNC4xcy00LjEsMS44LTQuMSw0LjF2MjcuOWMwLDIuMyAxLjgsNC4xIDQuMSw0LjF6Ii8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K);
    top: 8px;
    position: absolute;
    width: 16px;
    height: 16px; }
  :host ::content .time-wrapper > input.time-picker-input {
    width: 100%;
    height: 32px;
    line-height: 32px;
    padding-left: 11px;
    border-color: #D5D7DE;
    font-size: 14px; }
    :host ::content .time-wrapper > input.time-picker-input.active {
      outline: 0;
      border-color: #008DC9; }
  :host ::content .time-wrapper > .time-picker {
    top: 40px;
    width: 100%;
    padding-bottom: 19px;
    background-color: #FFFFFF;
    position: absolute;
    display: none;
    box-shadow: 2px 3px 28px 3px #b8b8b8; }
    :host ::content .time-wrapper > .time-picker.opened {
      display: block; }
    :host ::content .time-wrapper > .time-picker.closed {
      display: none; }
    :host ::content .time-wrapper > .time-picker > .minutes,
    :host ::content .time-wrapper > .time-picker > .hours {
      width: 35px;
      height: 35px;
      display: inline;
      margin: 0 5px 8px 8px;
      padding: 7px;
      font-size: 14px; }
      :host ::content .time-wrapper > .time-picker > .minutes.fail,
      :host ::content .time-wrapper > .time-picker > .hours.fail {
        border-color: #F44F41; }
    :host ::content .time-wrapper > .time-picker > .hours {
      margin: 0 9px 8px 19px; }
    :host ::content .time-wrapper > .time-picker > .minuteUp,
    :host ::content .time-wrapper > .time-picker > .hourUp {
      float: left;
      width: 16px;
      height: 16px;
      margin: 19px 19px 8px 29px;
      background: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDQ0NC44MTkgNDQ0LjgxOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ0LjgxOSA0NDQuODE5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTQzMy45NjgsMjc4LjY1N0wyNDguMzg3LDkyLjc5Yy03LjQxOS03LjA0NC0xNi4wOC0xMC41NjYtMjUuOTc3LTEwLjU2NmMtMTAuMDg4LDAtMTguNjUyLDMuNTIxLTI1LjY5NywxMC41NjYgICBMMTAuODQ4LDI3OC42NTdDMy42MTUsMjg1Ljg4NywwLDI5NC41NDksMCwzMDQuNjM3YzAsMTAuMjgsMy42MTksMTguODQzLDEwLjg0OCwyNS42OTNsMjEuNDExLDIxLjQxMyAgIGM2Ljg1NCw3LjIzLDE1LjQyLDEwLjg1MiwyNS42OTcsMTAuODUyYzEwLjI3OCwwLDE4Ljg0Mi0zLjYyMSwyNS42OTctMTAuODUyTDIyMi40MSwyMTMuMjcxTDM2MS4xNjgsMzUxLjc0ICAgYzYuODQ4LDcuMjI4LDE1LjQxMywxMC44NTIsMjUuNywxMC44NTJjMTAuMDgyLDAsMTguNzQ3LTMuNjI0LDI1Ljk3NS0xMC44NTJsMjEuNDA5LTIxLjQxMiAgIGM3LjA0My03LjA0MywxMC41NjctMTUuNjA4LDEwLjU2Ny0yNS42OTNDNDQ0LjgxOSwyOTQuNTQ1LDQ0MS4yMDUsMjg1Ljg4NCw0MzMuOTY4LDI3OC42NTd6IiBmaWxsPSIjMDAwMDAwIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==); }
    :host ::content .time-wrapper > .time-picker > .minuteDown,
    :host ::content .time-wrapper > .time-picker > .hourDown {
      margin: 0 19px 19px 29px;
      width: 16px;
      height: 16px;
      background: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDQ0NC44MTkgNDQ0LjgxOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ0LjgxOSA0NDQuODE5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnPgoJPHBhdGggZD0iTTQzNC4yNTIsMTE0LjIwM2wtMjEuNDA5LTIxLjQxNmMtNy40MTktNy4wNC0xNi4wODQtMTAuNTYxLTI1Ljk3NS0xMC41NjFjLTEwLjA5NSwwLTE4LjY1NywzLjUyMS0yNS43LDEwLjU2MSAgIEwyMjIuNDEsMjMxLjU0OUw4My42NTMsOTIuNzkxYy03LjA0Mi03LjA0LTE1LjYwNi0xMC41NjEtMjUuNjk3LTEwLjU2MWMtOS44OTYsMC0xOC41NTksMy41MjEtMjUuOTc5LDEwLjU2MWwtMjEuMTI4LDIxLjQxNiAgIEMzLjYxNSwxMjEuNDM2LDAsMTMwLjA5OSwwLDE0MC4xODhjMCwxMC4yNzcsMy42MTksMTguODQyLDEwLjg0OCwyNS42OTNsMTg1Ljg2NCwxODUuODY1YzYuODU1LDcuMjMsMTUuNDE2LDEwLjg0OCwyNS42OTcsMTAuODQ4ICAgYzEwLjA4OCwwLDE4Ljc1LTMuNjE3LDI1Ljk3Ny0xMC44NDhsMTg1Ljg2NS0xODUuODY1YzcuMDQzLTcuMDQ0LDEwLjU2Ny0xNS42MDgsMTAuNTY3LTI1LjY5MyAgIEM0NDQuODE5LDEzMC4yODcsNDQxLjI5NSwxMjEuNjI5LDQzNC4yNTIsMTE0LjIwM3oiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);
      float: left; }
    :host ::content .time-wrapper > .time-picker > .line {
      height: 1px;
      width: 128px;
      background-color: gray;
      margin: 19px 11px;
      clear: left; }
    :host ::content .time-wrapper > .time-picker > .cancel,
    :host ::content .time-wrapper > .time-picker > .ok {
      margin: 0 17px;
      color: #008DC9; }

            /* endinject */
        </style>
    </template>

    <script>
    (function(){
        /* inject:js */
        'use strict';

Polymer({

  is: 'ws-time-picker',

  ready: function ready() {
    var _this = this;

    // Take all elements
    this.hour = new Date().getHours();
    this.minutes = new Date().getMinutes();
    this.input = this.$$('.time-picker-input');
    this.div = this.$$('.time-picker');
    this.hoursInput = this.$$('.hours');
    this.minutesInput = this.$$('.minutes');
    this.hourUpButton = this.$$('.hourUp');
    this.hourDownButton = this.$$('.hourDown');
    this.minuteUpButton = this.$$('.minuteUp');
    this.minuteDownButton = this.$$('.minuteDown');
    this.cancelButton = this.$$('.cancel');
    this.okButton = this.$$('.ok');
    // Add all event listeners
    this.div.addEventListener('click', function () {
      return _this.calendarClick();
    });
    this.hoursInput.addEventListener('change', function () {
      return _this.hourChange();
    });
    this.minutesInput.addEventListener('change', function () {
      return _this.minutesChange();
    });
    this.input.addEventListener('click', function () {
      return _this.openTimePicker();
    });
    this.hourUpButton.addEventListener('click', function () {
      return _this.hourUp();
    });
    this.hourDownButton.addEventListener('click', function () {
      return _this.hourDown();
    });
    this.minuteUpButton.addEventListener('click', function () {
      return _this.minuteUp();
    });
    this.minuteDownButton.addEventListener('click', function () {
      return _this.minuteDown();
    });
    this.cancelButton.addEventListener('click', function () {
      return _this.cancel();
    });
    this.okButton.addEventListener('click', function () {
      return _this.ok();
    });
  },
  openTimePicker: function openTimePicker() {
    this.div.className = 'time-picker opened';
    this.input.className = 'time-picker-input active';
    // If input empty - set to hour and minutes current time
    if (!this.hoursInput.value && !this.minutesInput.value || this.minutesInput.className != 'minutes fail' || this.hoursInput.className != 'hours fail') {
      this.minutesInput.className = 'minutes';
      this.hoursInput.className = 'hours';
      this.hoursInput.value = this.hour < 10 ? '0' + this.hour : this.hour;
      this.minutesInput.value = this.minutes < 10 ? '0' + this.minutes : this.minutes;
    }
  },


  // Invoke when user typed something in hours input field
  hourChange: function hourChange() {
    if (this.checkHourValidity(this.hoursInput.value)) {
      this.hoursInput.className = 'hours';
      this.hoursInput.value = this.hoursInput.value < 10 ? '0' + this.hoursInput.value : this.hoursInput.value;
    }
  },


  // Check if changed value is integer number and between 0 and 23
  checkHourValidity: function checkHourValidity(hour) {
    if (hour <= 23 && Number.isInteger(Number(hour)) == true && hour >= 0) {
      return true;
    } else {
      this.hoursInput.className = 'hours fail';
    }
  },


  // Invoke when user typed something in minutes input field
  minutesChange: function minutesChange() {
    if (this.checkMinutesValidity(this.minutesInput.value)) {
      this.minutesInput.className = 'minutes';
      this.minutesInput.value = this.minutesInput.value < 10 ? '0' + this.minutesInput.value : this.minutesInput.value;
    }
  },


  // Check if changed value is integer number and between 0 and 59
  checkMinutesValidity: function checkMinutesValidity(minutes) {
    if (minutes <= 59 && Number.isInteger(Number(minutes)) == true && minutes >= 0) {
      return true;
    } else {
      this.minutesInput.className = 'minutes fail';
    }
  },


  // Invoke when user click on UP arrow at hours input field
  hourUp: function hourUp() {
    var newHour = Number(this.hoursInput.value) + 1;
    if (newHour == 24) {
      this.hoursInput.value = '00';
    } else if (Number(newHour) < 10) {
      // Add leading zero if number less then 10
      this.hoursInput.value = '0' + newHour;
    } else {
      this.hoursInput.value = newHour;
    }
  },


  // Invoke when user click on DOWN arrow at hours input field
  hourDown: function hourDown() {
    var newHour = Number(this.hoursInput.value) - 1;
    if (newHour == 0) {
      this.hoursInput.value = 23;
    } else if (Number(newHour) < 10) {
      this.hoursInput.value = '0' + newHour;
    } else {
      this.hoursInput.value = newHour;
    }
  },


  // Invoke when user click on UP arrow at minutes input field
  minuteUp: function minuteUp() {
    var newMinutes = Number(this.minutesInput.value) + 5;
    if (newMinutes >= 60) {
      this.minutesInput.value = '0' + (newMinutes - 60);
    } else {
      this.minutesInput.value = newMinutes < 10 ? '0' + newMinutes : newMinutes;
    }
  },


  // Invoke when user click on DOWN arrow at minutes input field
  minuteDown: function minuteDown() {
    var newMinutes = Number(this.minutesInput.value) - 5;
    if (newMinutes <= 0) {
      this.minutesInput.value = 60 + newMinutes;
    } else {
      this.minutesInput.value = newMinutes < 10 ? '0' + newMinutes : newMinutes;
    }
  },


  // Invoke when user click OK label and if there are no fails add picked time to input field
  ok: function ok() {
    if (this.hoursInput.className != 'hours fail' && this.minutesInput.className != 'minutes fail') {
      this.input.value = this.hoursInput.value + ':' + this.minutesInput.value;
      // Create event with result to ahev ability to work with result
      var event = new CustomEvent('time-changed', {
        detail: {
          hours: this.hoursInput.value,
          minutes: this.minutesInput.value
        }
      });
      this.dispatchEvent(event);
      this.input.className = 'time-picker-input';
      this.div.className = 'time-picker';
    }
  },
  cancel: function cancel() {
    this.input.className = 'time-picker-input';
    this.div.className = 'time-picker';
  }
});
        /* endinject */
    })()
    </script>
</dom-module>
